apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: dbos-gitops-infra-post-job
  namespace: openshift-gitops
  annotations:
    argocd.argoproj.io/sync-wave: "5"
  labels:
    gitops.tier.layer: rio-applications
spec:
  destination:
    namespace: doc
    server: https://kubernetes.default.svc
  project: doc-project
  source:
    path: db-gene-demo-capacity-planning/dbos-infra-post # repoURL and revision added in the Kustomization file
    helm:
      values: |
        REALM_ADMIN_USER_NAME: rioadmin
        REALM_ADMIN_USER_PASSWORD: rioadmin
        REALM_ADMIN_USER_EMAIL: rioadmin@rio-aps-poc-14d91fbc484122dac6eebae3af64bb35-0000.au-syd.containers.appdomain.cloud
  syncPolicy:
    automated:
      prune: true
      selfHeal: true